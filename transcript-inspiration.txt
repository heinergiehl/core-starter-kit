00:01 hey guys in this video I would like to take you on a journey to show you how to build your SAS easily using sassik kit
00:08 sasit is a Lal starter kit so it's a SAS starter kit that is built on Lal that
00:16 comes with so many features that you can use to easily build your SS on top of
00:21 that so all of the infrastructure features that you might need like um
00:27 users uh log in log in using the social login plan management creation plan plan
00:35 creation subscription plans and also onetime purchase products that you can create easily from the admin panel and
00:42 use components within SES to display them to your customers very easily and
00:48 depending also on these plans if they are like um usage based plans seed based
00:53 plans and and so on they will be um displayed accordingly you can also de
00:59 create discounts you can uh see like the dashboard for your customers you have an
01:04 admin panel that you can administer your site you can edit so many things settings and so on so so many thing
01:11 things and features that come within SES kit that you can actually use and build your sess offering on top of that so you
01:18 don't need to reinvent the wheel so to say uh by reimplementing what is
01:23 actually uh like considered as a basic like a base feature for any SS uh
01:30 application uh that would need that the NS application would need basically to properly
01:36 function so in this video I will show you how to do that how to build your SAS
01:43 application using sasit we are going to build a very simple SS application very
01:50 simple please don't do that H it's just for the demonstration purpose so that
01:56 you can see um and sense also what sikit offers and how it can make your life
02:02 easier when you when it comes to building um so by offering all these features that comes within sass kit you
02:08 can just use it use these features build on top of it uh and ship quickly your s
02:15 to your to your users our s today is called short litics which is as you can
02:20 see now uh I have already built it uh it is a URL shortener so again this is a very simple
02:28 sass very simple application don't build it like or maybe you build it maybe you
02:33 can you can build it but if you can like improve on it or offer like some kind of
02:38 like deep features uh but what we are going to see today is that we we just
02:44 offer like three different plans each of these plans offer certain features so if you click on get rest started now we go
02:50 back down here we can see the plans that uh should be available within our
02:56 application first of all plans are per seat this means that uh each user that joins the application is going to
03:03 preserve a seat so whenever a user joins the
03:09 subscriptions amount increases like whether by $5 $10 or $15 depending on
03:14 the plan the basic plan offers shortening and user management and some
03:21 other features that we offer here what we are going to implement uh here is
03:26 only shortening just to show you the idea but yeah this is basically the idea
03:31 of of this demo in the Pro Plan we have other features like everything in basic plus um Advanced click tracking API
03:39 access blah blah blah we are going only to build this Advanced click tracking
03:44 and in the ultimate plan we have all of the above plus uh unlimited link
03:50 expiration controls custom domain support and stuff like that so we are going to only build this feature which
03:56 is about the expiration so just I will show you how to build your application basically and use the sasit helpers so
04:04 that you can figure out which Services the user should get and the application should be flexible enough depending on
04:11 what plan should like the what plan the user has subscribed to they should get
04:17 some certain Services you need to check within the code if the user has like or
04:25 is supposed to get this service or not like is the user supposed to get URL shortening or not or should get click
04:33 tracking or Advanced tracking or not and so on so I will show you how to use the
04:38 helpers that come within sasit so that you can easily check against that and Implement your application without
04:44 caring too much about the what is happening behind like the plans and
04:50 which plan the user subscribe to and you you you don't need to care about that you just need to care about the features
04:56 that need to be offered and that's it so without further let's jump into the
05:02 coding part I already built this application as you see I also built the
05:08 landing page but I'm going to rebuild it again by U cloning a new repository like
05:15 a new sasit repository and just follow the documentation as you would also do
05:21 if you were building your s on top of sasit and continue incrementally adding these features copying pasting stuff
05:28 showing you the process along the way so that you can see basically get a sense of how to build the features within your
05:35 SES so let's dive in as you might already know sasit comes in two flavors
05:41 or basically two repositories that you can use one is called sasit and one
05:46 another one is called sasit tency sasit is mainly built for applications that
05:53 they they don't need to care about tency or tenants or let's say organizations
05:59 it's another fancy name for for organization or team where a subscription or a product
06:05 that the customer buys is linked to a company
06:10 basically uh think about Google workspace if you buy like if a company buys an email from Google Google
06:16 workspace the companies is the one who is owning the subscription or like this
06:22 organization is the one that is owning the subscription and whenever a user is being added that belongs to this
06:28 organization the subscription amount or the billable amount that should be taken each month
06:34 will increase based on the number of users this is basically tency this is the idea of having team
06:42 invitations um and so on this is what comes within SES tency but if your
06:47 application is offering or if you are offering services to just single users or doesn't need to care about tenants
06:53 like for example if you are building an application that converts documents from PDFs to um other formats you don't care
07:01 about ten you don't care about tenants and you don't need this extra layer of invitations users and multiuser from the
07:08 same organization to to use the service that you are offering then you should stick with sasit and as we mentioned
07:15 before we want to offer our services with in short titics to
07:21 users that belong to a company so we want to uh basically use the seed based
07:28 or per user per month or or per per seat per month basically type of building
07:33 this is a tency based so we are going to use S tency so what I will do now is I
07:38 will go to GitHub SL uh tency I will clone this repository so I
07:46 will create a new application so that we can go through the process together so
07:53 let's open here go to
07:58 her and and uh get clone as tency and
08:04 call it let's call it short litics step by step because this is what we are
08:10 going to be doing basically which is building short ltic um as a step by
08:19 step all right now we go to CIT
08:25 slash docs and we go to the getting started
08:31 local development uh we already cloned the repository all what we need to do is
08:39 just we are going to use her um so let's composer
08:47 install uh we need to First go inside short litics uh step by step and then composer
08:56 install the dependencies of the project
09:02 afterwards we want to go uh and copy
09:08 the environment variable and let's open the
09:16 project we already copied over the environment variable to um n so that we
09:22 can Define the variables um that we that we want in here in the environment
09:28 variables so what we need to do here is um Define the
09:33 database connection the database connection um we have I have the username root and password no password
09:41 the database I will call it also short latex
09:47 step by step and I will create the database so
09:55 it a source I will use my SQL but you can also
10:00 use post gra if you like or even SQL
10:05 light connect to the database test the connection please it's working okay
10:15 okay create a new
10:21 schema and call it short letics step by step that's it all right
10:31 what else do I want to change I want to change the url of the application also I will call it shortly step by step do
10:38 test because this is the domain that lot of heard already uses uh the
10:44 domain as the name of the directory of the project so um I will also call the
10:52 application short litics not step by step but just short litics and short
10:58 letics or the best
11:04 way to shorten your
11:10 URLs what else we need to change we could change the mail maybe the mail uh
11:18 so that we can also have a look at emails if we want to so I use locally
11:24 like mail pit which is a mail testing application that is that can connect to
11:30 or like you can run with Docker so um just for testing purposes
11:36 so this is actually mapped to to Local Host so I will also add that one here
11:42 and I think that should be it that should be it for the N
11:48 file now we copy this we go back here not not this here but here generate
11:57 the key and uh run the migrations let's run the migrations oops we have something with
12:06 the database yes let's go back yes the the database host is should be Local
12:13 Host and again let's run the
12:19 migrations nice migrations are done let's seed the
12:25 database seeding is also done
12:30 let's link the storage done install
12:36 npm npm install install the dependencies that we want and
12:43 then run
12:50 built and dra div this should be it now if we go to this
12:59 to the appliation here and open it you will find that you land on a page
13:04 already that this is actually like like the default page that comes within sasit it's like a landing page about
13:13 sasit itself so that you can see how to build the landing page and you can maybe use some of the components and adapt
13:19 them to your um SS so that yeah you can reuse these components but with
13:25 different text with different images and so on and you change the styling a little bit and then Bo you have a a
13:31 landing page of your application okay now that we have
13:36 everything up and running let's create an admin user so that we can access the
13:41 admin panel of cesit so also here in the
13:47 documentation creating an admin user all what we need to do is just to copy this and we can go here we can open a
13:55 new tab and create an admin user will add ask us about the email that we want
14:01 to use so just use admin admin.com and it will generate an admin account
14:08 for us once we go here we click login go to admin admin and then copy
14:14 the password okay remember me login here we go we we are logged in we
14:21 can here find the admin panel if you click on it it is in the dark it's a bit uh
14:30 lighter yes so as you can see there are lots of features that come within cesit
14:37 uh you can expand all of them here and and take a take a take a look at
14:43 that but uh yeah and we have also a dashboard that shows at a glance the
14:50 numbers that how much revenue did you get like your application collected so
14:55 far the um mrr and active subscriptions and so many things and grafts and so but
15:00 it's because it's an empty thing that you don't have any numbers here now the next step with for us would
15:07 be to create the plans that we want to show to the
15:12 users and to do that we can go to subscription products let's first I
15:19 would like to show you the plans from the short litics because we I already
15:24 created those ones so I will go to the admin here I go to uh to plans to Subs
15:32 subscription products first we want to offer three different types of products
15:37 basic Pro and ultimate these are the products that we would like to
15:44 offer if we click on one of these when you create a product you have a lot of options here to edit as you can see that
15:50 you can enter the name uh the slug and if it's a popular product you uh just
15:56 you can have this switched on and what this will do is that it will show
16:02 automatically show that this is the popular product like this one here like the sub the the Pro Plan uh let's go
16:11 back where are we yes okay but let's keep that uh turned off uh is that a default product this is
16:18 something used for if you want to offer free products to your customers that they didn't uh pay or they didn't
16:26 subscribe you can use the default product to to achieve that that will be assigned to customers who don't have a
16:33 plan or don't have a subscription already and there is something called the metadata the metadata is being used
16:41 so that you can Define some ARB arbitrary uh information about your
16:48 features that you would like to offer to your customers so for example for this
16:53 product this subscription product this is the basic product and you remember in the basic prod product we all what we
16:59 want to do is just to allow users to shorten URLs that's it nothing more so
17:06 what I added here is metadata shortening equals one basically this like just I Define that for myself for this plan
17:13 because later in the code I will check against that I will H I will check if
17:18 that user has the should be able to shorten or not and sasit will know
17:26 because it will know that the current user has this exact subscription this
17:31 exact subscription supports this exact feature and whether this feature is
17:36 supported or not or depending on that I can take the decision to to
17:42 actually show user something or hide it or do whatever I want we will we will come to that later
17:50 and um I added some features here also so uh these features are the features
17:56 that appear here you you can Define them here and then save the save the subscription
18:03 product and then in plans um yeah if we go back I created
18:10 that like three the different products basic Pro and ultimate more or less the same in the Pro for example um I uh in
18:18 the metadata there is tracking and there's shortening of course uh both are enabled and these are the features of
18:25 that Pro product and then the ultimate it has tracking expiration and
18:31 shortening enabled and the features are defined and that's
18:38 it now we Define plans when we like for
18:43 each of these subscription products we can offer it in different ways we want to offer
18:50 this in a monthly basis and in a yearly basis so if we go back to here as you
18:57 can see we have a month L and yearly for each plan there are two variations of
19:04 for each product there are two variations or two
19:11 plans so here I Define basic monthly Bic basic yearly as two different plans if
19:18 you click on one of them basic monthly is a seed based uh you can Define the type of that
19:25 plan you can offer this the product as seed based or you can uh offer it as a
19:31 flat rate based or usage based and each of those has has different options but for this
19:40 for the sake of this demo we want to we want to create seed based products so we chose that we want we don't want to
19:46 limit the number of users per tenant and the product is the basic and we want to
19:52 offer one month uh like like the product in a monthly interval like each one
19:59 month for this plan and we want the user to be able to take a trial uh basically one week trial of
20:06 that product and is is active and we see we are that's it we Define that also for
20:13 the yearly so if you go so go down is basically all all the same the product is basic and the only change is interval
20:21 equals yearly one year also we want to offer one week trial
20:27 and um yeah one thing Al I would like to mention is this is the price so we once
20:32 you save the plan you can create a price for that so we uh we want for the basic
20:39 monthly plan each user would cost
20:44 $5 so you can do that by clicking on this new plan price and then you can
20:50 Define the price and this is actually uh this can change depending on the type of
20:55 the plan that you have so flat rate seed based or usage based usage based is more like complex way of
21:04 billing okay so for each subscription product we Define two
21:10 plans and that's it um all of them are active so once we
21:17 do that automatically if we use the plans component which which actually is
21:22 part of CIT the plans will show up here like that so you don't need to do anything you don't don't need to um
21:29 like display them or something like that the component takes care of everything and takes care also of uh checking
21:35 whether we have like different interval types like monthly yearly and you can also turn on this saving if you want to
21:42 show show how much the user would save by choosing daily this will be
21:47 automatically calculated and displayed uh as as you see it
21:52 here let's go to see that so if you go to the resources we use home home and we
21:60 scroll down to
22:06 plans do all this is actually how we show the plans here on the front on the
22:15 front page we say we we call this component blends with all and we say calculate the
22:20 saving rates equals true and show default products equal one and uh if
22:26 also we have we have another uh another component called products.all which shows the products
22:32 also if you have products that you sell will also be shown here under the subscription products
22:39 obviously you don't need to uh to call that if you don't have like s One Time
22:45 products that you are selling so something like a non-subscription product just one one time purchase so
22:51 you don't you can you can take that out all right I will post the video now in order to save time and copy over the
22:58 plans and the products that I created already previously on the short litics
23:03 application to the short litics step-by step application which are now we are now creating step by step so that we can
23:11 continue from there all right I already did that so I created the subscription
23:18 products plans and also added prices for these plans if we go now to the front
23:26 end page like let close that one we can go to step by step to short ltic step by
23:36 step go here go down as you can see we have the plans the plans are displayed
23:44 properly and we can click here and we get redirected to the checkout and we
23:50 can purchase this plan the next thing that we would like
23:55 to do now is to customize the landing page as you can see um this is a sassy
24:04 kit page sassy kit landing page we want to change that a bit and want to add our features for our
24:11 application so in this process like building a landing a nice landing page
24:16 could be a bit tricky so you need to care about the copy the text that you
24:21 would like to uh have and also the pictures or the images that you would
24:29 like to use for our short ltic app where is the short
24:35 litic yes as you can see I made it very simple
24:42 obviously you can improve that you can tweak things a bit add Shadows change
24:49 things around and then your landing page would be different you can add like some
24:55 gradients and animations if you want but I just kept it simple for the demo what
25:01 I did is that what I usually do when it when it comes to landing pages I would
25:06 like to have a list of all the features that I'm offering in this application so
25:12 I came up of a list of features that I want to present on the landing
25:18 page and here are these these features so let's create a new scratch file text
25:23 plain text and these are the main features that I want to offer in the application shorten
25:30 URLs track URLs control link expiration password link password protect links and
25:35 uh custom domain support and I personally used chat GPT so that uh CH
25:42 to help me basically create some text around that um and added the text on the
25:49 landing page and regarding these symbols I used a service called um SVG repo um
25:58 it's a repository of svgs that you can basically use so I
26:05 try to find like um a representative icon for each of the features that I
26:11 want to present like the let's go short lytics yes this is
26:17 like the link this is also another link tracking some kind of like Target and so
26:24 on and I added this text on the landing page somehow
26:31 and yeah let's have a look at how that looks within the short litics
26:38 application so if we go to resources views
26:44 home here is the home that we uh that I created I can I will copy this one from
26:50 here and go to the step by step application and go to this home and paste it
26:56 down and refresh so uh yes of course we
27:02 don't have these svgs that we are referencing here so we need to copy those over as well so in cesit there is
27:10 um an SVG uh I think in resources svgs uh these are like some there are
27:17 some svgs that were already shipped within CIT but I added some extra ones
27:23 here this this this that's all let's take them all and
27:29 go to the step by step application SVG and paste all of them
27:39 overr right yes I did some changes add yes okay let's refresh here we
27:47 go we have our landing page but it is using
27:54 the purple color which is the color of cesit you can easily change that I
27:60 already changed that here in the short litics I chose this um grade of uh of
28:09 Blue by so let's go to short litics and I Chang that in Tailwind do common.js
28:18 where we Define the colors of the website so we can copy them here copy them from here and past paste
28:26 them uh on the other side side and then we have this and this
28:35 button there are some like if we if we look at these
28:40 ones this is the short ltic that I created this is the step by step
28:45 application this button doesn't look like this color is not doesn't look
28:52 okay and also I think we have the navigation is a bit wider here uh
28:58 because I also did a small change here regarding the navigation so if you go to short
29:05 litics and uh we go to views we go to um
29:11 components layouts app header I made the uh menu to
29:19 be a little bit like narrower so let's go for that
29:28 in the resources view views and then components
29:35 layouts header change a bit this one and
29:41 uh refresh yes now looks much better and this button also I changed that in short
29:47 litics so there's a component already that comes within sasit which is uh
29:53 called button- link because you can use it basically to represent a button or a link
29:59 I changed a little bit the coloring here so this is basically the secondary
30:06 secondary button so you have like a um usually you have two colors in in seset
30:11 you define them with all their grades the primary and the secondary um the primary color these
30:18 colors are defined here these are the ones that we copied over primary and
30:25 secondary but uh in this case the secondary button doesn't look it looks a little bit off so I changed the The
30:33 Styling of it a bit so we can copy that over also and go to step by
30:38 step and um button link secondary
30:44 tuck and let's refresh yes now we have everything in
30:50 place all good and I also added by the way some um FAQ questions also ask GPT
30:58 to generate some for me but there is this component that you can also use to
31:03 to to show the if ifuse uh F AQ for you the frequently asked questions so let's
31:10 have a look quick look at the components that we have so this is the homepage the
31:17 homepage you can Define here the title of the page and there is the hero section uh it is a component that
31:24 displays this part uh it has the information like some
31:32 this this shorten URLs like a pro and how it works these are the two buttons the button link primary outline and
31:39 button link secondary which we just we just changed and we we show the SVG
31:47 here and that's it close this one the other one we have something called
31:52 columns section columns basically this is like a generic component that display
31:59 columns beside each other you can Define as a component like
32:05 section sorry that you can you can Define here a section column within each of these columns so we have two columns
32:12 inside that column one and then column two column one has some text which is this a solid
32:21 shortener shorten Ur Els and the column two has the SVG here you go this is the SVG that we
32:29 display and the one after is a reverse column so you can uh you want to you
32:35 want to reverse that so that basically you show the SVG
32:41 first and the text second in the second column so that you can somehow add some
32:49 variation to the to the landing page but on the mobile
32:55 phones you would like this to be reversed so you if you if we like go to the like responsive
33:03 layout this is how things will look so text image text image text image is
33:12 not reversed anymore so or is not is not having this variance if if we don't have
33:19 this Flex uh R reverse then as you can see if we take
33:24 it out and we go here you will see that there will be text image and then image
33:30 text this is this is not what we want to do what we want to do is that for mobile
33:36 or for the responsive like vertical layout we want to keep it as text image
33:42 text image but for the desktop we want to have like this kind of variance right
33:50 and left yeah just just a detail all right now we have our homepage and we
33:56 have our plans and we have our subscription products and we show everything uh beautifully on our landing
34:04 page and we have also some other things like the blog which it is empty that
34:09 comes already with SAS that we can we can add some blog posts that to display on your website but we don't care about
34:16 that now we would like to complete the check out process one thing that we
34:23 didn't add yet which is uh the payment integration so cesit support supports
34:28 three payment providers out of the box stripe pedal and lemon squeezy and you
34:34 can configure those from the admin panel and you can even allow uh your your
34:40 customer to choose the payment provider that they want so you can enable strip
34:45 and pedal for example so that for example the customer some can sometimes have problems with one payment provider
34:52 some payment Pro providers might work in some countries or or might not so uh
34:58 depending on that you can allow your user to choose to try strip and then if
35:04 not if it's not working then they can use paddles for
35:10 example to configure that we go to the admin panel so we go to the admin
35:17 panel we go to settings under settings you have payment providers click you
35:23 have we have them all uh enabled by by default and uh if you want to see that
35:30 we can if we go a bit yeah we can go to step by step
35:37 might be a bit confusing sorry for that but yeah if you go to get started and then click here as you can see you can
35:44 pay either with stripe pedal or lemon squeezy but for the sake of this demo we will only use a
35:51 stripe let's close this one so we will disable pedal we will disable lemon
35:57 squeezy and if we refresh here we will only have stripe that's fine click on
36:03 stripe then click edit credentials and we want to add the credentials of strip
36:09 here so that we can use strip basically so there are some on the right hand side
36:15 there are some uh detailed information on how to get these credentials so basically you can log into the stripe
36:21 dashboard let's do that right now I'm on the stripe dashboard and what what
36:27 should we do next we can go to developers API keys and copy the uh publishable key so we go to
36:35 developers API Keys copy the publishable key and add it here add it
36:42 here then the second thing is get the secret key so we click on reveal reveal
36:49 secret key this is the secret key basically we can put it here and then the web hook in
36:59 secret this is something that we uh can set up on production uh to be able to
37:05 receive the web hooks from strip the events basically regarding the if the
37:10 payment was successful or not this is being used behind the scenes init but
37:16 for uh development purposes strip actually offers a very handy tool which is called stripe CLI or command line
37:24 interface tool that we can use locally to to Route these or receive these
37:30 events um instead of setting up like some kind of a proxy because locally
37:35 it's hard to get this events because we don't have a domain name that we can we can add to receive the events on but
37:44 using this tool it can make our life a bit easier so I'm going to use this tool so I will be here search for stripe
37:51 because I already used it before and uh
37:58 I will there is also documentation about that by the way on the on cit's website so you can you can follow this if you
38:04 want to uh see it in more detail but let's go let's copy the
38:10 domain name our domain name which is called short
38:19 litic we don't need we don't need that and we don't need also this extra
38:26 thingy that should be basically
38:32 it um so what we are trying to do here is to say to stbe hey strip please
38:38 forward all the events that you will get to this endpoint this endpoint is
38:43 basically where we process these web hooks within our application locally so let's start that and once we start that
38:51 stripe will give us a web hook signing secret that we can copy and paste here
38:59 here and with that stripe should be working fine so we can save the settings
39:05 save the changes and once we go here to the to the check out process by the way
39:11 we we also forgot to to change the logo which I will do I will be doing now but
39:18 yeah if we click confirm and pay we should be redirected to strive now and if we do the payment then the customer
39:26 like the payment should succeed and we and the subscription should start and then we should have everything in place
39:33 but let's not do that now let's first go back to the logo make sure that we uh
39:39 change these logos to the fancy logos that I created
39:44 already so public images and I created these two logos one
39:50 is the dark logo which is should be like displayed on like light backgrounds and
39:57 the logo light is it's it's white that's why it's not it's not uh visible here
40:03 but this is the one that should be displayed on dark backgrounds copy these two and go there
40:11 in public images and yes overr right overr right
40:18 and then when we refresh here refresh yes short ltic is here this
40:25 is the stepbystep application that we are building so we have everything almost in
40:32 place okay now it's time to think about our application a little bit so what are
40:37 we going to build on top of cesit because we have now the infrastructure there we have the plans we show them the
40:43 user can go through the plans the the check out and can buy the purchase the plan once they
40:49 purchase they can use our service now it's time to build our
40:54 service so we are offering uh a service that shortens URLs so what we are going
41:00 to build or what we are going to need here is like a table to store this URLs a simple table so it's a very simple
41:08 one um so let's create a model and a migration also with it so we can go for
41:19 URL I think I created that before so a model is called URL and with a migration
41:27 tuck we have the database migration already created where is migration
41:32 migration down downstairs here we can already copy over the stuff from short
41:38 litics just to make our lives a bit
41:44 easier so let's copy that one go here and replace those with this
41:53 so in this table we have a URL we have visits which which is an in integer that
41:59 is we store how many times this URL has been visited basically inside of it the
42:04 identifier which is the visible identifier that will be shown in the URL
42:09 so at the end we we want to have like uh our domain so something short litics short litics
42:18 do test/ l/ something and this something is the
42:24 identifier that you want to store here
42:30 and uh expires ad which is a date that yeah determines if the URL is expired or
42:36 not and we have the tenant ID because we want that URL to or these URLs what they
42:45 have to be linked to the tenants because this is a tency based application it's not a user based application so who who
42:53 owns the URL that exact tenant not a single user but the whole tenant and in
43:00 sasit we have a table called tenants and you can link your like data to it
43:08 basically using this using a forign key yeah okay so we have that in place let's
43:15 run the migration so a migrate by the way a is u i just uh created an areas
43:21 for PHP Artisan just to make my life a bit easier so a means PHP artisan so a
43:28 migrate migrated we have we should have now the table
43:34 here fresh yes URLs and we have it here all
43:40 right all right the next step would be
43:47 to create the resource so the filament
43:52 resource so that we can show this URL to users let's first go through the
43:59 checkout process create a subscription and see the dashboard of the
44:05 user before we add anything to it so so let's get started let's take the basic
44:11 plan click on basic I want to buy the basic plan uh you can pick the workspace we
44:18 have a workspace already created and uh we can go now the due is zero because
44:24 this plan offers a one one we trial so we don't need to pay anything we just go
44:30 confirm and pay we land on stripe stripe says yeah we have a 7day free and then
44:35 afterwards five $5 per month uh we can use the 4442 42 42 42 this is like a
44:43 test credit card that you can use and whatever and we
44:50 [Music] can proceed if we go to the here here you
44:58 can see that like events are already
45:03 coming and uh if you go back here yes now we landed on thank you for your
45:09 purchase start your journey um we can go here to the dashboard so this is the user dashboard
45:16 when the user goes here to the dashboard he sees that dashboard and the dashboard
45:22 contains the orders subscriptions and payments that the user did so orders we
45:28 don't have any orders because the user didn't purchase or tenant basically didn't purchase any uh single or one
45:36 time purchase product but they this Stant got a subscription which is basic
45:43 monthly well the price of it is like five $5 per month per seat and
45:48 subscription is active so we have sub an active subscription for this tant and the payments is nothing because we
45:54 didn't pay anything as we we are still in the trial and down here we have the team the team
46:02 members um we have only one team member which is the admin which is the currently U logged in user but um we can
46:11 invite other users so whenever we invite a user here the user will join the
46:17 tenant and what happens is that behind the scenes sasit takes care of updating
46:24 the payment provider to um highlight that okay there is another
46:30 user that got into the tenant now now you need to increase the amount you need
46:37 to increase the um billable amount at the end of the month so if we have one
46:43 user we should pay5 dollar at the end of the month if we have two users we should
46:48 pay 10 10 dollars at the end of the month and so on this already happens
46:53 behind the scenes so you don't need to care about this and we already uh went
46:58 through that in another demo so we will not we will not go through this again inviting a user and seeing if that
47:04 reflects because it's already happening and we did it on another in another demo
47:09 but um as you can see this is the dashboard of the user that comes with init of course you can you can display
47:16 other stuff here you can also hide some stuff if you don't need to show orders you can
47:21 just take that out and you can also hear if there is multiple tenants
47:27 that this user is is is part of like is invited to they can switch the tenants
47:34 here from uh this drop down so a user can be in multiple
47:40 tenants and a user can also be an admin in a tenant and another like has can
47:45 have another role in another another tenant so this is very flexible within C
47:52 but anyway going back to the topic now we need to show the URL here
47:58 right so um let's create a resource in filament so something called resource
48:04 it's a resource URL I already created that before so tuck created which panel
48:09 do you want to create that uh inside this is the dashboard not the admin the admin is for the site administrator we
48:16 don't want to show the URLs in the site administrator we might also want to show them but for now we are focusing on uh
48:24 the dashboard or or the users so we go with the dashboard so now we have
48:30 this file add it sorry so let's go to this
48:35 file and yeah now if we refresh here we
48:41 can see URLs and if we click here as you can see we can see some
48:46 error this error is basically saying that the URL model doesn't have a
48:52 relationship to the tenant model if you remember we added we added a key in the
48:59 table but we still need to add the relationship in the model itself so if
49:06 you go back to app models we have a URL this is the new one
49:14 that we just created and we have a tenant so here what we need to do is I
49:20 think we can we can go
49:25 with tenant belongs to a tenant if we
49:31 refresh we should be fine and since we are here let's also
49:37 add the fillable like to be able to add um the data
49:46 basically to create the data from filament here we need to add the all the
49:53 fields that we want to set basically in the fillable um
49:58 in the fillable attribute so that should be it until now
50:07 okay all right so let's go back again to short litics
50:15 and let's visit the URL resource here your a resource
50:23 and see how I added or implemented here so this is how
50:29 I basically implemented the URL resource
50:34 in the short letics application let's have a look at that together so here in the form I would
50:41 like the user to be able to enter the URL and I would like the user to be able
50:47 to enter the expires app only if they have access to the expiration feature if
50:55 you remember we added this met data here if we go to the plans subscription
51:03 products here let's go to the ultimate product here we go we have this tracking
51:10 equals one and expiration equals 1 and shortening equals one I want the user to
51:17 be able to set the expiration only if that if they have access to that feature so there is a function called visible
51:25 here uh in INF filment that we can use exactly for that reason so invisible we
51:31 add some custom logic actually we don't need the user here all what we need is that we uh can
51:38 get the subscription service the subscription service is a service that comes within cesit basically that um
51:46 reps all the features around subscription management so we want to
51:52 get the subscription service and we ask the subscription service to get to to
51:57 get us back the tenant subscription product metadata we retrieve that and we check
52:06 whether this metadata has the expiration inside of it or not if it's inside
52:12 inside of it then the user should be the EXP should see the expires ad but if it's not then not and this is basically
52:20 how you can at in any part of your application customize
52:27 the application to react to the features that the user has access to you get the
52:32 metadata you check whether the metadata has some x x value whatever you that you define on
52:39 the admin panel and whe if it has that then you enable the feature if not then
52:45 not and the good thing about that is also that you can change that in the
52:50 admin panel so let's say in the future you want to change your plans a bit add new features so and maybe swap some
52:59 features from certain plans and so on you just need to do that in the admin panel and your application doesn't need
53:04 to care about any change like you don't need to change the application as long as you follow the same
53:10 process of checking uh against the metadata that's it so that's one thing
53:16 that we did the other thing that here also I want to in the table table is
53:21 basically where we show the data here show the show the urls we don't have any
53:27 URLs so that we don't have any data but we will create now but anyway um in the
53:33 table I would like to show the URL that the user created and the number of visits also is conditional so if you
53:40 remember we want to we want to offer the advanced tracking actually it's not ad
53:46 Advanced at all it's just the count that we want to show uh here we only offer that for
53:54 subscri for subscription products that like the
53:60 pro track has a tracking and the ultimate also has tracking but the basic
54:07 doesn't have tracking yeah has only shortening so this is what we also we don't need that
54:14 user I don't know why we have it here but we get the metadata and the visible
54:19 function also metadata of the tenant subscription and check if it has uh
54:27 expiration in this case actually this is a mistake it should be Tracking not expiration uh yeah so it should be
54:33 tracking and that's it so if there we have tracking then the user will be able to see the
54:39 visits and we show the created ad and updated ad and also we added a new
54:45 action here so that we can open the link just basically when when we click on it
54:51 just to open the link just very minimal stuff let's copy them as is go to the
54:57 short ltic step by step go to the URL resource paste them here and then go
55:06 to our dashboard refresh nothing changed but let's create
55:12 create a URL so create a new URL in here
55:17 as you can see we can only create a URL but we cannot set the expiry ad because
55:23 if you remember in sub subscriptions we have a basic subscription and we do this check
55:30 that is like because we don't have the basic subscription doesn't have this
55:36 metadata of expiration the user will not be able to set the expires at but we
55:42 will create now another user that has this um metadata or has this feature and
55:49 so that we can we can see the difference but anyway let's go to URLs create a URL
55:55 and uh we can go to https uh google.com create
56:04 okay all right uh we don't have a relationship named URLs yes we have to
56:09 have also uh a relationship named URL on the tenant itself which we
56:16 forgot to add so public
56:23 URLs and then as many URL that's true
56:29 refresh again https Tu tuck google.com
56:36 create the field identifier doesn't have a default value this is a very good error
56:44 because also we what we need to do is to generate automatically generate the
56:50 identifier of the URL we already I already did that in short litics but I forgot to copy it
56:57 over so if we go here to URL resource in
57:03 create let's copy this function this function basically says
57:08 that I want to I want to automatically create the
57:14 identifier of that URL when when we create it so mutate form data before we
57:19 create it just add a random identifier to that to that URL
57:26 yeah so let's go here let's go to the URL resource URL resource create and add
57:35 this function okay that should be all right so again let's click on create
57:41 this should should have been created if we go back to URLs route URL redirect is not defined
57:50 that's true because we added here um we added here um uh link basically an
57:59 action to open the the URL we can we can command that out now
58:05 refresh yeah so this is the URL that we have google.com and if you remember we
58:13 added a visit a visits column but this visits column does not show because we
58:18 don't have the tracking feature also so because this user doesn't have the tracking feature the column doesn't show
58:27 now let's create a user or a tenant basically uh with the subs with the
58:32 ultimate subscription from another browser maybe from chrome to test this feature enabling and
58:42 disabling thingy so let's copy over this one go
58:49 here right and then let's uh let's take this out now let's go to get started
58:56 let's go for the ultimate which should enable all the features for us so we are here we just do whatever
59:07 any user any user like T tuck and your
59:13 name is ko ko whatever anything just I
59:18 want one one seat and uh let's go we go to stripe we don't
59:25 want to save anything again this is one seven seven days uh
59:31 free plan seven days free trial and then $15 $15 per month afterwards so 42 42 42
59:38 42 42 42 4 two 4 44 444 4444 continue okay
59:45 allow and now we should land on the success
59:54 page it's taking a bit of time okay success yes then let's go to our
60:02 dashboard here we go this is our dashboard and then if we go to
60:07 URLs we don't have any URLs for that um for that user right so when we
60:15 create a URL as you can see now we have the expires ad because this user
60:21 subscription has access to that feature so let's go with http s
60:31 yahoo. and we can set the expiration date date if you want uh something in the future then create and then if you
60:38 go to the URLs as you can see also that the visits are also visible because this
60:44 user has access to the tracking also or this tenant subscription has access to
60:51 the tracking tracking to be to be precise yeah so that is basically the idea
60:58 now let's Implement a very simple um controller or basically route
61:05 so that we can see the shortening happening in action I also created that in short
61:13 litics so if we go to web so routes
61:23 web I added a new route it's let's go through it so
61:29 here I uh I added like a route /l/ identifier this is the identifier of the
61:37 uh URL itself what I do basically is that I search for the URL by the identifier and fail if this URL does not
61:46 exist and afterwards check if the expires at uh if if we passed the
61:52 expires at so if the link is expired then we show a 404 this link does not
61:59 exist and increment the visits so increase the number of visits for this
62:06 link to be reflected in the database or stored in the database and go to that
62:11 link redirect away and then just um go to that link so let's copy that over also to our short litics step by step
62:21 in routes web
62:27 and this URL has to be from Models yes maybe we can use the
62:35 fqn yeah that should be it now if we go back to the URL
62:42 resource we can enable this thing here
62:48 so that we can actually see this link or see this U button here that allows us to
62:55 open the link so click open we go to Google and then we go
63:02 back let's let's see it here because this user has access to all features lucky
63:08 him or her if we click [Music]
63:13 open call to a function um is passed on a string this is basically Happening
63:20 Here in web because we treat expires at as a date
63:29 but is still not a date because it needs to be casted to a date to do that we can
63:36 Define that here in casts okay already knows everything so we can Define the
63:42 expires at as a date time incast so that LEL would switch that automatically to
63:47 date time so that we can actually call the is past uh on it so let's refresh yes now
63:56 we are redirected to Yahoo and if you go
64:02 back you can see uh the visits have been incremented Al also like twice now and
64:09 uh yeah that should be it if you open it one more time go back we have three
64:15 visits and so on that's that's basically the idea and that's it basically we have
64:21 built a SAS using sasit we offered very minimal features just to show you how to
64:28 easily build the and how you how you can use the infrastructure that comes within sasit uh starting from like payment
64:36 Integrations subscription management and and the process of the workflow of of
64:41 the check out and all these components and stuff so that you can put them together and easily very easily in like
64:49 minutes put your SS up and running and focus only on your core function it that
64:56 you would like to offer to your users and build on top of that so now you know what to do and uh go dive deeper into
65:04 the documentation there are lots of features that we didn't discuss uh in this demo to not make it as long it's
65:11 already long but we Tred I try to like squeeze it a bit but there are lots of
65:17 other features that you can check in the in the documentation that come with iness that would make your life easier
65:23 across the board so with that it happy building and see you again in another
65:29 video thank you for watching