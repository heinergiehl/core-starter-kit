/* Fonts are loaded via <link> tags in layout templates â€” no CSS @import needed */

/* Template CSS - Must be imported at top for Vite/PostCSS to process */
@import 'templates/_void.css';
@import 'templates/_aurora.css';
@import 'templates/_prism.css';
@import 'templates/_velvet.css';
@import 'templates/_frost.css';
@import 'templates/_ember.css';
@import 'templates/_ocean.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Default to Light Mode (Standard Practice) */
        --color-primary: 99 102 241;
        /* Indigo-500 */
        --color-secondary: 168 85 247;
        /* Purple-500 */
        --color-accent: 236 72 153;
        /* Pink-500 */

        --color-bg: 250 250 250;
        /* Neutral-50 */
        --color-fg: 15 23 42;
        /* Slate-900 */
        --color-surface-highlight: 226 232 240;
        /* Slate-200 */

        --font-sans: 'Plus Jakarta Sans', sans-serif;
        --font-display: 'Outfit', sans-serif;

        --radius-card: 20px;
        --radius-pill: 9999px;
    }

    /* Dark Mode Overrides */
    .dark {
        --color-primary: 99 102 241;
        --color-secondary: 168 85 247;
        --color-accent: 236 72 153;

        --color-bg: 10 10 12;
        /* Near Black */
        --color-fg: 248 250 252;
        /* Slate-50 */
        --color-surface-highlight: 30 41 59;
        /* Slate-800 */
    }
}

html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    background-color: rgb(var(--color-bg));
    color: rgb(var(--color-fg));
    font-family: var(--font-sans);
    overflow-x: hidden;
    transition: background-color 0.3s ease, color 0.3s ease;
}

[x-cloak] {
    display: none !important;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgb(var(--color-surface-highlight));
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-primary));
}

@layer components {

    /* Glass Panel: Adapts to Light/Dark */
    .glass-panel {
        @apply backdrop-blur-xl shadow-xl border transition-all duration-300;
        /* Light: White glass */
        @apply bg-white/70 border-white/40 shadow-black/5;
    }

    .dark .glass-panel {
        /* Dark: Dark glass */
        @apply bg-white/5 border-white/10 shadow-black/20;
    }

    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-secondary to-accent;
    }

    .btn-primary {
        @apply relative overflow-hidden rounded-full bg-primary px-8 py-3 font-semibold text-white shadow-lg shadow-primary/20 transition-all hover:scale-105 hover:shadow-primary/40 active:scale-95;
    }

    .btn-secondary {
        /* Light Mode */
        @apply rounded-full border border-gray-200 bg-white px-8 py-3 font-medium text-gray-700 transition-all hover:bg-gray-50 hover:border-gray-300 active:scale-95;
    }

    .dark .btn-secondary {
        /* Dark Mode */
        @apply border-white/10 bg-white/5 text-white hover:bg-white/10 hover:border-white/20;
    }

    /* Helper for cards inside glass panels */
    .card-inner {
        @apply rounded-2xl border transition-colors duration-300;
        /* Light */
        @apply bg-white border-gray-100;
    }

    .dark .card-inner {
        /* Dark */
        @apply bg-white/5 border-white/5;
    }

    /* Image Resizer Styles for RichEditor */
    .image-resize-wrapper {
        display: inline-block;
        position: relative;
        line-height: 0;
    }

    .image-resize-wrapper.image-selected {
        outline: 2px solid rgb(var(--color-primary));
        outline-offset: 2px;
        border-radius: 4px;
    }

    .image-resize-wrapper img {
        display: block;
        cursor: pointer;
        transition: opacity 0.2s;
    }

    .image-resize-wrapper.image-selected img {
        opacity: 0.95;
    }

    /* TipTap / RichEditor image defaults */
    .tiptap img,
    [contenteditable="true"] img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
        border-radius: 8px;
        transition: box-shadow 0.2s;
    }

    .tiptap img:hover,
    [contenteditable="true"] img:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .docs-page .bg-hero-glow {
        background: rgb(var(--color-bg));
    }

    .docs-shell {
        @apply mx-auto max-w-7xl;
    }

    .docs-hero {
        @apply max-w-3xl rounded-3xl border border-ink/10 bg-white/70 px-6 py-8 shadow-sm sm:px-10 sm:py-10;
    }

    .dark .docs-hero {
        @apply border-white/10 bg-white/5;
    }

    .docs-eyebrow {
        @apply text-xs font-semibold uppercase text-primary;
        letter-spacing: 0.2em;
    }

    .docs-title {
        @apply mt-3 font-display text-4xl text-ink sm:text-5xl;
    }

    .docs-subtitle {
        @apply mt-4 max-w-2xl text-sm text-ink/70 sm:text-base;
    }

    .docs-empty-state {
        @apply mt-8 rounded-2xl border border-dashed border-ink/20 bg-surface/20 p-6 text-sm text-ink/70;
    }

    .docs-search {
        @apply mt-8;
    }

    .docs-search-input {
        @apply w-full rounded-2xl border border-ink/10 bg-white/80 px-4 py-3 text-sm text-ink shadow-sm outline-none transition placeholder:text-ink/40 focus:border-primary/40 focus:ring-2 focus:ring-primary/15;
    }

    .dark .docs-search-input {
        @apply border-white/10 bg-white/5 text-white placeholder:text-white/40;
    }

    .docs-search-input-sm {
        @apply rounded-xl px-3 py-2;
    }

    .docs-index-grid {
        @apply mt-8 grid gap-4 sm:grid-cols-2 xl:grid-cols-3;
    }

    .docs-index-card {
        @apply block rounded-2xl border border-ink/10 bg-white/80 p-5 transition duration-150 hover:-translate-y-0.5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/10;
    }

    .dark .docs-index-card {
        @apply bg-white/5 border-white/10 hover:border-primary/40;
    }

    .docs-index-card-title {
        @apply text-base font-semibold text-ink;
    }

    .docs-index-card-arrow {
        @apply mt-0.5 text-ink/30 transition group-hover:text-primary;
    }

    .docs-index-card-summary {
        @apply mt-3 text-sm leading-6 text-ink/70;
    }

    .docs-index-card-meta {
        @apply mt-4 text-xs font-semibold uppercase text-ink/35;
        letter-spacing: 0.18em;
    }

    .docs-back-link {
        @apply inline-flex items-center gap-2 text-sm font-medium text-ink/70 transition hover:text-ink;
    }

    .docs-layout {
        @apply grid gap-8;
    }

    @media (min-width: 1024px) {
        .docs-layout {
            grid-template-columns: 240px minmax(0, 1fr);
        }
    }

    @media (min-width: 1280px) {
        .docs-layout {
            grid-template-columns: 240px minmax(0, 1fr) 220px;
        }
    }

    .docs-sidebar {
        @apply h-fit rounded-2xl border border-ink/10 bg-white/80 p-4 lg:sticky lg:top-24;
    }

    .dark .docs-sidebar {
        @apply border-white/10 bg-white/5;
    }

    .docs-sidebar-label {
        @apply px-2 pb-3 text-xs font-semibold uppercase text-ink/45;
        letter-spacing: 0.18em;
    }

    .docs-sidebar-search {
        @apply px-2 pb-3;
    }

    .docs-sidebar-nav {
        @apply space-y-1;
    }

    .docs-sidebar-link {
        @apply block rounded-lg px-3 py-2 text-sm text-ink/70 transition hover:bg-ink/5 hover:text-ink;
    }

    .dark .docs-sidebar-link {
        @apply hover:bg-white/10;
    }

    .docs-sidebar-link-active {
        @apply bg-primary/10 font-semibold text-primary;
    }

    .docs-article {
        @apply rounded-3xl border border-ink/10 bg-white/90 px-6 py-8 shadow-sm sm:px-10 sm:py-10;
    }

    .dark .docs-article {
        @apply border-white/10 bg-white/5;
    }

    .docs-article-header {
        @apply border-b border-ink/10 pb-6;
    }

    .dark .docs-article-header {
        @apply border-white/10;
    }

    .docs-article-title {
        @apply font-display text-3xl font-semibold text-ink sm:text-4xl;
    }

    .docs-article-summary {
        @apply mt-3 max-w-3xl text-sm leading-6 text-ink/70 sm:text-base;
    }

    .docs-article-meta {
        @apply mt-3 text-xs font-semibold uppercase text-ink/45;
        letter-spacing: 0.18em;
    }

    .docs-prose {
        @apply prose prose-slate mt-8 max-w-none text-ink/80;
    }

    .dark .docs-prose {
        @apply prose-invert;
    }

    .docs-prose h2,
    .docs-prose h3 {
        scroll-margin-top: 7rem;
    }

    .docs-prose :where(a):not(:where([class~="not-prose"] *)) {
        @apply font-medium text-primary no-underline;
    }

    .docs-prose :where(a):not(:where([class~="not-prose"] *)):hover {
        text-decoration: underline;
        text-underline-offset: 2px;
    }

    .docs-prose :where(code):not(:where([class~="not-prose"] *))::before,
    .docs-prose :where(code):not(:where([class~="not-prose"] *))::after {
        content: none;
    }

    .docs-prose :where(code):not(:where(pre code, [class~="not-prose"] *)) {
        @apply rounded bg-ink/10 px-1.5 py-0.5 text-[0.85em] font-medium text-ink;
    }

    .dark .docs-prose :where(code):not(:where(pre code, [class~="not-prose"] *)) {
        @apply bg-white/10 text-white;
    }

    .docs-prose :where(pre):not(:where([class~="not-prose"] *)) {
        @apply overflow-x-auto rounded-xl border border-slate-800/80 bg-slate-950 px-4 py-4 text-[0.875rem] text-slate-100 shadow-none;
    }

    .docs-prose :where(pre code):not(:where([class~="not-prose"] *)) {
        @apply bg-transparent p-0 text-inherit;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
        font-size: inherit;
    }

    .docs-prose :where(hr):not(:where([class~="not-prose"] *)) {
        @apply my-8 border-ink/10;
    }

    .docs-prose :where(blockquote):not(:where([class~="not-prose"] *)) {
        @apply rounded-r-lg border-l-4 border-primary/50 bg-primary/5 py-1 pl-4 text-ink/70;
    }

    .docs-prose :where(table):not(:where([class~="not-prose"] *)) {
        @apply w-full text-sm;
    }

    .docs-prose :where(thead th):not(:where([class~="not-prose"] *)) {
        @apply border-b border-ink/20 text-ink/85;
    }

    .docs-prose :where(tbody td):not(:where([class~="not-prose"] *)) {
        @apply border-b border-ink/10;
    }

    .docs-pagination {
        @apply mt-10 grid gap-4 sm:grid-cols-2;
    }

    .docs-pagination-link {
        @apply block rounded-2xl border border-ink/10 bg-white/80 p-5 transition duration-150 hover:-translate-y-0.5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/10;
    }

    .dark .docs-pagination-link {
        @apply border-white/10 bg-white/5 hover:border-primary/40;
    }

    .docs-pagination-link-next {
        @apply sm:col-start-2;
    }

    .docs-pagination-label {
        @apply text-xs font-semibold uppercase text-ink/45;
        letter-spacing: 0.18em;
    }

    .docs-pagination-title {
        @apply mt-1 block text-sm font-semibold text-ink;
    }

    .docs-toc {
        @apply hidden h-fit rounded-2xl border border-ink/10 bg-white/70 p-4 xl:block xl:sticky xl:top-24;
    }

    .dark .docs-toc {
        @apply border-white/10 bg-white/5;
    }

    .docs-toc-label {
        @apply text-xs font-semibold uppercase text-ink/45;
        letter-spacing: 0.18em;
    }

    .docs-toc-nav {
        @apply mt-3 space-y-1;
    }

    .docs-toc-link {
        @apply block rounded-md px-2 py-1.5 text-sm text-ink/65 transition hover:bg-ink/5 hover:text-ink;
    }

    .dark .docs-toc-link {
        @apply hover:bg-white/10;
    }

    .docs-toc-link-nested {
        @apply pl-5 text-xs;
    }
}