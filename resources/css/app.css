@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Default to Light Mode (Standard Practice) */
        --color-primary: 99 102 241;
        /* Indigo-500 */
        --color-secondary: 168 85 247;
        /* Purple-500 */
        --color-accent: 236 72 153;
        /* Pink-500 */

        --color-bg: 250 250 250;
        /* Neutral-50 */
        --color-fg: 15 23 42;
        /* Slate-900 */
        --color-surface-highlight: 226 232 240;
        /* Slate-200 */

        --font-sans: 'Plus Jakarta Sans', sans-serif;
        --font-display: 'Outfit', sans-serif;

        --radius-card: 20px;
        --radius-pill: 9999px;
    }

    /* Dark Mode Overrides */
    .dark {
        --color-primary: 99 102 241;
        --color-secondary: 168 85 247;
        --color-accent: 236 72 153;

        --color-bg: 10 10 12;
        /* Near Black */
        --color-fg: 248 250 252;
        /* Slate-50 */
        --color-surface-highlight: 30 41 59;
        /* Slate-800 */
    }

    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        background-color: rgb(var(--color-bg));
        color: rgb(var(--color-fg));
        font-family: var(--font-sans);
        overflow-x: hidden;
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: rgb(var(--color-surface-highlight));
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgb(var(--color-primary));
    }
}

@layer components {

    /* Glass Panel: Adapts to Light/Dark */
    .glass-panel {
        @apply backdrop-blur-xl shadow-xl border transition-all duration-300;
        /* Light: White glass */
        @apply bg-white/70 border-white/40 shadow-black/5;
    }

    .dark .glass-panel {
        /* Dark: Dark glass */
        @apply bg-white/5 border-white/10 shadow-black/20;
    }

    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-secondary to-accent;
    }

    .btn-primary {
        @apply relative overflow-hidden rounded-full bg-primary px-8 py-3 font-semibold text-white shadow-lg shadow-primary/20 transition-all hover:scale-105 hover:shadow-primary/40 active:scale-95;
    }

    .btn-secondary {
        /* Light Mode */
        @apply rounded-full border border-gray-200 bg-white px-8 py-3 font-medium text-gray-700 transition-all hover:bg-gray-50 hover:border-gray-300 active:scale-95;
    }

    .dark .btn-secondary {
        /* Dark Mode */
        @apply border-white/10 bg-white/5 text-white hover:bg-white/10 hover:border-white/20;
    }

    /* Helper for cards inside glass panels */
    .card-inner {
        @apply rounded-2xl border transition-colors duration-300;
        /* Light */
        @apply bg-white border-gray-100;
    }

    .dark .card-inner {
        /* Dark */
        @apply bg-white/5 border-white/5;
    }

    /* Image Resizer Styles for RichEditor */
    .image-resize-wrapper {
        display: inline-block;
        position: relative;
        line-height: 0;
    }

    .image-resize-wrapper.image-selected {
        outline: 2px solid rgb(var(--color-primary));
        outline-offset: 2px;
        border-radius: 4px;
    }

    .image-resize-wrapper img {
        display: block;
        cursor: pointer;
        transition: opacity 0.2s;
    }

    .image-resize-wrapper.image-selected img {
        opacity: 0.95;
    }

    /* TipTap / RichEditor image defaults */
    .tiptap img,
    [contenteditable="true"] img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
        border-radius: 8px;
        transition: box-shadow 0.2s;
    }

    .tiptap img:hover,
    [contenteditable="true"] img:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
}